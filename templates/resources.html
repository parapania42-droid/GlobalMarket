{% extends "base.html" %}

{% block content %}
<div class="container main-game-area">
    <div class="card">
        <div class="card-header">
            <h2>ğŸŒ¾ Hammadde Ãœretimi</h2>
            <div class="hint-text">Arazi ve iÅŸÃ§i sayÄ±sÄ±na gÃ¶re Ã¼retim otomatik artar.</div>
        </div>
        <div id="resources-list" class="inventory-grid"></div>
    </div>
</div>

<script>
function iconFor(item) {
    const m = {'BuÄŸday':'ğŸŒ¾','Odun':'ğŸªµ','Demir':'â›ï¸','TaÅŸ':'ğŸª¨','KÃ¶mÃ¼r':'ğŸ§±'};
    return m[item] || 'ğŸ“¦';
}
async function loadResources() {
    const res = await fetch('/api/resources');
    const data = await res.json();
    const list = document.getElementById('resources-list');
    const items = Object.entries(data);
    if (items.length === 0) {
        list.innerHTML = '<div class="hint-text">HenÃ¼z hammadde Ã¼retilmedi.</div>';
        return;
    }
    list.innerHTML = items.map(([name, qty]) => `
        <div class="inventory-item" style="display:flex; justify-content:space-between;">
            <div>${iconFor(name)} ${name}</div>
            <div style="font-weight:bold">${qty}</div>
        </div>
    `).join('');
}
document.addEventListener('DOMContentLoaded', loadResources);
</script>
{% endblock %}
